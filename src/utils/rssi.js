const rssi_map = {
  "-98": 7.0,
  "-97": 7.0,
  "-96": 6.0,
  "-95": 6.0,
  "-94": 6.0,
  "-93": 6.0,
  "-92": 5.0,
  "-91": 5.0,
  "-90": 5.0,
  "-89": 5.0,
  "-88": 4.0,
  "-87": 4.0,
  "-86": 4.0,
  "-85": 4.0,
  "-84": 4.0,
  "-83": 3.0,
  "-82": 3.0,
  "-81": 3.0,
  "-80": 3.0,
  "-79": 3.0,
  "-78": 2.0,
  "-77": 2.0,
  "-76": 2.0,
  "-75": 2.0,
  "-74": 2.0,
  "-73": 2.0,
  "-72": 2.0,
  "-71": 1.0,
  "-70": 1.0,
  "-69": 1.0,
  "-68": 1.0,
  "-67": 1.0,
  "-66": 1.0,
  "-65": 1.0,
  "-64": 1.0,
  "-63": 1.0,
  "-62": 1.0,
  "-61": 0.0,
  "-60": 0.0,
  "-59": 0.0,
  "-58": 0.0,
  "-57": 0.0,
  "-56": 0.0,
  "-55": 0.0,
  "-54": 0.0,
  "-53": 0.0,
  "-52": -0.0,
  "-51": -0.0,
  "-50": -0.0,
  "-49": -0.0,
  "-48": -0.0,
  "-47": -0.0,
  "-46": -0.0,
  "-45": -0.0,
  "-44": -0.0,
};

export const extimateDistanceFromRSSI = (rssi) => {
  // let coeffs = [6.6401393230298815, 0.27683540449018756, 0.0028641412384319276];
  // let dist = 0;
  // for (let i = 0; i < coeffs.length; i++) {
  //   dist += coeffs[i] * Math.pow(rssi, i);
  // }

  // dist = Math.round(dist * 1000);
  // dist = dist / 1000;

  if (rssi > -44) {
    return 0.5;
  }

  if (rssi < -99) {
    return 7;
  }

  return rssi_map[String(rssi)];
};
